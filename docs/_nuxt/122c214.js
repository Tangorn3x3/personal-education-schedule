(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{614:function(t,e,r){var content=r(623);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("7d97af55",content,!0,{sourceMap:!1})},615:function(t,e,r){var content=r(625);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("7163f99a",content,!0,{sourceMap:!1})},616:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUwAAAF8AQMAAACe2hCxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURUdwTP///5+UokMAAAACdFJOUwAFBvk5twAAAn9JREFUaN610TGVEEAMQMHLS5EyOFgLOFhLOFikIQUJCLhHQMJckV9P9z8+tG8fG/S70x9O/7AMp+m0nPYKPU6v0+d0mIbTdFortJ0ep9fpczpMw2mu0HLaTo/T6/Q5HaaxQtNpOW2nx+l1+pzOBg2n6bScttPj9K7Q53SYhtN0Wk7b6Vmh1+lzOkzDaTotp71Cj9Pr9DkdpuE0ndYKbafH6XX6nA7TcJortJy20+P0On1Oh2ms0HRaTtvpcXqdPqezQcNpOi2n7fQ4vU7fCh2m4TSdltN2epzeFfqcDtNwmk7LaTs9K/Q6fU6HaThNp+W0V+hxep0+p8M0nOYKLaft9Di9Tp/TYRorNJ2W03Z6nF6nz+ls0HCaTstpOz1Or9O3QodpOE2n5bSdHqd3hT6nwzScptNy2k7PCr1On9NhGk7TaTntFXqcXqfP6TANp+m0Vmg7PU6v0+d0mIbTXKHltJ0ep9fpczpMY4Wm03LaTo/T6/Q5nQ0aTtNpOW2nx+l1+lboMA2n6bScttOzQq/T53SYhtN0Wk57hR6n1+lzOkzDaTqtFdpOj9Pr9DkdpuE0V2g5bafH6XX6nA7TWKHptJy20+P0On1OZ4OG03RaTtvpcXqdvhU6TMNpOi2n7fQ4vSv0OR2m4TSdltN2elbodfqcDtNwmk7Laa/Q4/Q6fU6HaThNp7VC2+lxep0+p8M0Vmg6Laft9Di9Tp/T2aDhNJ2W03Z6nF6nb4UO03CaTstpOz1O7wp9TodpOE2n5bSdnhV6nT6nwzScptNy2iv0OL1On9NhGk7Taa3QdnqcXqfP6TANp3pgfn+F6oH5xQfmJx/4T/XAXz/w+ZUD/wBTQuAoajZcqwAAAABJRU5ErkJggg=="},617:function(t,e,r){t.exports=r.p+"img/trophy.143ee16.png"},622:function(t,e,r){"use strict";r(614)},623:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".text-overlay[data-v-a8f9b0e2]{align-items:center;background-color:rgba(0,0,0,.5);border-top-left-radius:16px;border-top-right-radius:16px;bottom:0;display:flex;justify-content:center;left:0;max-height:180px;position:absolute;right:0;text-align:center;top:0}.text-overlay.dense[data-v-a8f9b0e2]{max-height:120px}.text-overlay .text-white[data-v-a8f9b0e2]{text-shadow:0 0 10px rgba(0,0,0,.75)}.chip-overlay[data-v-a8f9b0e2]{left:10px;position:absolute;top:10px;z-index:2}.scheduled-rating.v-rating .mdi-star[data-v-a8f9b0e2]{padding-bottom:2px;padding-top:2px}",""]),n.locals={},t.exports=n},624:function(t,e,r){"use strict";r(615)},625:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".inspire .v-content{-webkit-backdrop-filter:hue-rotate(155deg);backdrop-filter:hue-rotate(155deg)}.v-expansion-panels.dense .v-expansion-panel-header{padding:8px 12px}.v-expansion-panels.dense .v-expansion-panel-content__wrap{padding:0 0 4px}body::-webkit-scrollbar-track{background-color:#444;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}body::-webkit-scrollbar{background-color:#444;width:6px}body::-webkit-scrollbar-thumb{background-color:#121212;border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.triangle-bg{bottom:0;position:absolute;right:0;width:10.375rem}.trophy{bottom:2rem;position:absolute;right:2rem;width:4.9375rem}",""]),n.locals={},t.exports=n},632:function(t,e,r){"use strict";r.r(e);var n=r(630),o=r(607),c=r(629),l=(r(8),r(6),r(11),r(12),r(9)),d=r(1),h=(r(36),r(7),r(616)),m=r.n(h),f=r(617),v=r.n(f),k=r(68),x=r(88),_=r(631),w={name:"CardLoadingSkeleton"},y=r(49),O=Object(y.a)(w,(function(){return(0,this._self._c)(_.a,{staticClass:"mx-auto",attrs:{type:"card"}})}),[],!1,null,"4c90caef",null).exports,C=r(159),T=r(111),A=r(113),I=r(204),S=r(132),P=r(166),j=r(128),z=r(72),N=r(203),M=r(634),Q=(r(26),r(20),r(81),r(52)),U=r(4),R=r.n(U),W=r(3),D=r.n(W);r(37),r(25),r(46),r(21),r(40),r(41),r(136),r(29);!function(){for(var t=[],e="A".charCodeAt(0),a="a".charCodeAt(0),r="0".charCodeAt(0),i=0;i<26;++i)t.push(String.fromCharCode(e+i));for(var n=0;n<26;++n)t.push(String.fromCharCode(a+n));for(var o=0;o<10;++o)t.push(String.fromCharCode(r+o));t.push("+"),t.push("/")}();new TextEncoder;var E={name:"ScheduledItemCard",props:{item:{type:Object|x.d,required:!0},statistics:{type:Array,default:function(){return[]}},dense:{type:Boolean,default:!1},allowActions:{type:Boolean,default:!1},skippable:{type:Boolean,default:!1},title:{type:String,default:"Поехали! 🚀"},description:{type:String,default:""},elevation:{type:Number,default:24},completingInProgress:{type:Boolean,default:!1},skippingInProgress:{type:Boolean,default:!1}},data:function(){return{chipColors:["red","blue","green","yellow","purple"]}},computed:{course:function(){return{name:this.item.course,group:this.item.group,image:this.item.course_image,priority:this.item.priority}},group:function(){return{name:this.item.group,image:this.item.group_image}},cardImage:function(){var t=[];return t.push(R.a.get(this.course,"image")),t.push(R.a.get(this.group,"image")),t.push(Q.b.courses.fallbackImage),t.find((function(i){return!!i}))},chipColor:function(){return this.chipColors[function(t,e){for(var r=0,i=0;i<t.length;i++)r=t.charCodeAt(i)+((r<<5)-r);return Math.abs(r)%e}(this.group.name,this.chipColors.length)]},durationText:function(){var t=this.item.lesson_duration;R.a.isString(t)&&(t=R.a.toNumber(t));var e=Math.floor(t),r=t%1,n=[];return 1===e&&n.push("1"),e&&n.push(D.a.duration(e,"hours").humanize()),r&&n.push(D.a.duration(r,"hours").humanize()),n.join(" ")},progressPercent:function(){if(!this.statistics||0===this.statistics.length)return 0;var t=R.a.find(this.statistics,{course:this.item.course});return t?t.progress:0},progressLabel:function(){if(-1===this.progressPercent)return"∞";var t=100*this.progressPercent;return"".concat(Math.round(t),"%")}},methods:{moveToComplete:function(){this.$emit("complete",this.item)},moveToSkip:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$dialog.confirm({text:"Пропустить занятие?",actions:{true:"Пропустить",false:"Отмена"}});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:t.$emit("skip",t.item);case 6:case"end":return e.stop()}}),e)})))()}}},V=(r(622),Object(y.a)(E,(function(){var t=this,e=t._self._c;return e(T.a,{attrs:{elevation:t.elevation}},[e(P.a,{attrs:{src:t.cardImage,height:t.dense?120:180}},[t.dense?t._e():e("div",{staticClass:"text-overlay",class:{dense:t.dense}},[e("h1",{staticClass:"text-white"},[t._v(t._s(t.item.course))])]),t._v(" "),t.group?e("div",{staticClass:"chip-overlay"},[e(I.a,{attrs:{color:t.chipColor,dark:"",small:""}},[t._v(t._s(t.group.name))])],1):t._e()]),t._v(" "),e(A.b,{staticClass:"pa-0",staticStyle:{"margin-top":"-18px"}},[e(T.a,{attrs:{elevation:t.elevation/4*4}},[e(A.c,{staticClass:"font-weight-light pb-0"},[e("span",[t._v(t._s(t.title))]),t._v(" "),t.skippable?e(C.a,{staticStyle:{position:"absolute",right:"0"},attrs:{loading:t.skippingInProgress,icon:"",color:"pink",size:"normal"},on:{click:t.moveToSkip}},[e(S.a,[t._v("mdi-skip-next")])],1):t._e()],1),t._v(" "),e(A.b,{class:{"pb-2":!t.dense}},[t.dense?t._e():e(j.a,{staticClass:"pa-0",attrs:{"three-line":""}},[e(z.a,{class:{"pb-0":!t.dense}},[e("h4",{staticClass:"font-weight-light mb-2"},[t._v("ПРОДОЛЖИТЕЛЬНОСТЬ")]),t._v(" "),e("h3",{staticClass:"pl-2 mb-4"},[t._v(t._s(t.durationText))]),t._v(" "),t.description?e("h4",{staticClass:"font-weight-light mb-2"},[t._v("ДЕТАЛИ")]):t._e(),t._v(" "),t.description?e("h3",{staticClass:"pl-2 mb-4"},[t._v(t._s(t.description))]):t._e(),t._v(" "),e("h4",{staticClass:"font-weight-light"},[t._v("ПРИОРИТЕТ")]),t._v(" "),e(M.a,{staticClass:"scheduled-rating",attrs:{disabled:"",hover:"",length:"5",size:"15",value:t.course.priority/2}})],1),t._v(" "),t.progressPercent?e(N.a,{attrs:{value:t.progressPercent,rotate:360,size:75,width:15,color:t.chipColor}},[e("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.progressLabel))])]):t._e()],1)],1),t._v(" "),t.allowActions?e(A.a,[e(C.a,{attrs:{loading:t.completingInProgress,block:"",size:"normal",color:"primary"},on:{click:t.moveToComplete}},[t._v("Готово")])],1):t._e()],1)],1)],1)}),[],!1,null,"a8f9b0e2",null).exports),B=(r(216),r(413),{name:"TextPlaceholder",props:{title:{type:String,default:""},subtitle:{type:String,default:""},link:{type:String,default:null},linkText:{type:String,default:null},small:{type:Boolean,default:!1},injected:{type:Boolean,default:!1}}});function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){Object(d.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var F={components:{TextPlaceholder:Object(y.a)(B,(function(){var t=this,e=t._self._c;return e(o.a,{staticClass:"fill-height",attrs:{fluid:""}},[e(c.a,{attrs:{align:"center",justify:"center"}},[e("h3",{staticClass:"grey--text font-weight-light",class:{headline:!t.small,title:t.small},staticStyle:{"text-align":"center"}},[t._v("\n      "+t._s(t.title)+" "),t.title?e("br"):t._e(),t._v(" "),e("small",[t._v("\n        "+t._s(t.subtitle)+"\n      ")]),t._v(" "),t.link?e("br"):t._e(),t._v(" "),t.link&&!t.injected?e(C.a,{attrs:{to:t.link,color:"primary",text:""}},[t._v("\n        "+t._s(t.linkText?t.linkText:"Перейти")+"\n      ")]):t._e()],1)])],1)}),[],!1,null,null,null).exports,ScheduledItemCard:V,CardLoadingSkeleton:O},data:function(){return{triangleBg:m.a,trophy:v.a,loadingItems:!1,competingInProgress:!1,skippingInProgress:!1}},computed:L(L(L(L({},Object(k.d)("courses",{courses:"items",coursesGroups:"groups"})),Object(k.d)("schedule",{statistics:"statistics"})),Object(k.c)("schedule",{allItems:"allItems",todayItems:"today",tomorrowItems:"tomorrow",yesterdayItems:"yesterday",currentItem:"currentItem"})),{},{todayToWork:function(){var t=this.currentItem?this.currentItem.id:null;return R.a.filter(this.todayItems,(function(e){return e.status===x.c.NEW&&(!t||e.id!==t)}))}}),mounted:function(){this.initializeData()},methods:L(L(L({},Object(k.b)("schedule",{fetchCurrentWeekItems:"fetchCurrentWeekItems",fetchNextWeekItems:"fetchNextWeekItems",fetchViewItems:"fetchViewItems",fetchStatistics:"fetchStatistics",moveViewItemToStatus:"moveViewItemToStatus"})),Object(k.b)("courses",{fetchCourses:"fetchItems",fetchCourseGroups:"fetchGroups"})),{},{initializeData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingItems=!0,t.fetchCourses(),t.fetchCourseGroups(),e.next=5,t.initializeItems();case 5:t.loadingItems=!1;case 6:case"end":return e.stop()}}),e)})))()},initializeItems:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchViewItems();case 2:t.fetchStatistics();case 3:case"end":return e.stop()}}),e)})))()},onMoveToComplete:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.competingInProgress=!0,r.next=3,e.moveViewItemToStatus({item:t,status:x.c.DONE});case 3:e.competingInProgress=!1;case 4:case"end":return r.stop()}}),r)})))()},onMoveToSkip:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.skippingInProgress=!0,r.next=3,e.moveViewItemToStatus({item:t,status:x.c.SKIP});case 3:e.skippingInProgress=!1;case 4:case"end":return r.stop()}}),r)})))()}})},H=(r(624),Object(y.a)(F,(function(){var t=this,e=t._self._c;return e(o.a,[e(c.a,[t.currentItem?e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Прямо сейчас")]),t._v(" "),e("scheduled-item-card",{attrs:{item:t.currentItem,statistics:t.statistics,description:t.currentItem.health_description,"completing-in-progress":t.competingInProgress,"skipping-in-progress":t.skippingInProgress,"allow-actions":"",skippable:""},on:{complete:t.onMoveToComplete,skip:t.onMoveToSkip}}),t._v(" "),t.loadingItems?e("card-loading-skeleton",{staticClass:"elevation-24"}):t._e()],1):t._e(),t._v(" "),e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Сегодня")]),t._v(" "),t.todayToWork&&t.todayToWork.length>0?t._l(t.todayToWork,(function(t){return e("scheduled-item-card",{key:t.id,staticClass:"mb-6",attrs:{item:t,title:t.course,elevation:8,dense:""}})})):e("text-placeholder",{attrs:{title:"Сегодня нет занятий",subtitle:"Пора отдыхать",small:""}}),t._v(" "),t.loadingItems?e("card-loading-skeleton",{staticClass:"elevation-24"}):t._e()],2),t._v(" "),t.tomorrowItems&&t.tomorrowItems.length>0?e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Завтра")]),t._v(" "),t._l(t.tomorrowItems,(function(t){return e("scheduled-item-card",{key:t.id,staticClass:"mb-6",attrs:{item:t,title:t.course,elevation:12,dense:""}})})),t._v(" "),t.loadingItems?e("card-loading-skeleton",{staticClass:"elevation-24"}):t._e()],2):t._e()],1)],1)}),[],!1,null,null,null));e.default=H.exports}}]);