(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{621:function(t,e,r){var content=r(632);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("da5f9fe4",content,!0,{sourceMap:!1})},622:function(t,e,r){var content=r(634);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("257d9532",content,!0,{sourceMap:!1})},623:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUwAAAF8AQMAAACe2hCxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURUdwTP///5+UokMAAAACdFJOUwAFBvk5twAAAn9JREFUaN610TGVEEAMQMHLS5EyOFgLOFhLOFikIQUJCLhHQMJckV9P9z8+tG8fG/S70x9O/7AMp+m0nPYKPU6v0+d0mIbTdFortJ0ep9fpczpMw2mu0HLaTo/T6/Q5HaaxQtNpOW2nx+l1+pzOBg2n6bScttPj9K7Q53SYhtN0Wk7b6Vmh1+lzOkzDaTotp71Cj9Pr9DkdpuE0ndYKbafH6XX6nA7TcJortJy20+P0On1Oh2ms0HRaTtvpcXqdPqezQcNpOi2n7fQ4vU7fCh2m4TSdltN2epzeFfqcDtNwmk7LaTs9K/Q6fU6HaThNp+W0V+hxep0+p8M0nOYKLaft9Di9Tp/TYRorNJ2W03Z6nF6nz+ls0HCaTstpOz1Or9O3QodpOE2n5bSdHqd3hT6nwzScptNy2k7PCr1On9NhGk7TaTntFXqcXqfP6TANp+m0Vmg7PU6v0+d0mIbTXKHltJ0ep9fpczpMY4Wm03LaTo/T6/Q5nQ0aTtNpOW2nx+l1+lboMA2n6bScttOzQq/T53SYhtN0Wk57hR6n1+lzOkzDaTqtFdpOj9Pr9DkdpuE0V2g5bafH6XX6nA7TWKHptJy20+P0On1OZ4OG03RaTtvpcXqdvhU6TMNpOi2n7fQ4vSv0OR2m4TSdltN2elbodfqcDtNwmk7Laa/Q4/Q6fU6HaThNp7VC2+lxep0+p8M0Vmg6Laft9Di9Tp/T2aDhNJ2W03Z6nF6nb4UO03CaTstpOz1O7wp9TodpOE2n5bSdnhV6nT6nwzScptNy2iv0OL1On9NhGk7Taa3QdnqcXqfP6TANp3pgfn+F6oH5xQfmJx/4T/XAXz/w+ZUD/wBTQuAoajZcqwAAAABJRU5ErkJggg=="},624:function(t,e,r){t.exports=r.p+"img/trophy.143ee16.png"},631:function(t,e,r){"use strict";r(621)},632:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".text-overlay[data-v-e9434e08]{align-items:center;background-color:rgba(0,0,0,.5);border-top-left-radius:16px;border-top-right-radius:16px;bottom:0;display:flex;justify-content:center;left:0;max-height:180px;position:absolute;right:0;text-align:center;top:0}.text-overlay.dense[data-v-e9434e08]{max-height:120px}.text-overlay .text-white[data-v-e9434e08]{text-shadow:0 0 10px rgba(0,0,0,.75)}.chip-overlay[data-v-e9434e08]{left:10px;position:absolute;top:10px;z-index:2}.scheduled-rating.v-rating .mdi-star[data-v-e9434e08]{padding-bottom:2px;padding-top:2px}",""]),n.locals={},t.exports=n},633:function(t,e,r){"use strict";r(622)},634:function(t,e,r){var n=r(15)((function(i){return i[1]}));n.push([t.i,".inspire .v-content{-webkit-backdrop-filter:hue-rotate(155deg);backdrop-filter:hue-rotate(155deg)}.v-expansion-panels.dense .v-expansion-panel-header{padding:8px 12px}.v-expansion-panels.dense .v-expansion-panel-content__wrap{padding:0 0 4px}body::-webkit-scrollbar-track{background-color:#444;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}body::-webkit-scrollbar{background-color:#444;width:6px}body::-webkit-scrollbar-thumb{background-color:#121212;border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.triangle-bg{bottom:0;position:absolute;right:0;width:10.375rem}.trophy{bottom:2rem;position:absolute;right:2rem;width:4.9375rem}",""]),n.locals={},t.exports=n},643:function(t,e,r){"use strict";r.r(e);var n=r(640),o=r(614),c=r(639),l=(r(8),r(6),r(11),r(12),r(9)),d=r(1),m=(r(36),r(7),r(623)),h=r.n(m),f=r(624),v=r.n(f),w=r(52),_=r(73),k=r(641),x={name:"CardLoadingSkeleton"},y=r(39),O=Object(y.a)(x,(function(){return(0,this._self._c)(k.a,{staticClass:"mx-auto",attrs:{type:"card"}})}),[],!1,null,"4c90caef",null).exports,I=r(161),S=r(111),T=r(113),C=r(209),P=r(168),A=r(128),j=r(71),z=r(207),M=r(645),N=(r(26),r(20),r(82),r(47)),D=r(4),R=r.n(D),V=r(3),B=r.n(V);r(37),r(25),r(48),r(21),r(42),r(43),r(136),r(30);!function(){for(var t=[],e="A".charCodeAt(0),a="a".charCodeAt(0),r="0".charCodeAt(0),i=0;i<26;++i)t.push(String.fromCharCode(e+i));for(var n=0;n<26;++n)t.push(String.fromCharCode(a+n));for(var o=0;o<10;++o)t.push(String.fromCharCode(r+o));t.push("+"),t.push("/")}();new TextEncoder;var E=r(206),Q=r(642),U=r(132),L=r(203),W=r(205),J=r(65),F=r(208);function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){Object(d.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var X={name:"ScheduleItemRePlanner",props:{viewItem:{type:Object|_.d,required:!0}},data:function(){return{bottomSheet:!1,skippingInProgress:!1,eveningInProgress:!1,tomorrowInProgress:!1}},computed:G(G({},Object(w.c)("schedule",{lastInDate:"lastInDate"})),{},{anyLoading:function(){return this.skippingInProgress||this.eveningInProgress||this.tomorrowInProgress}}),methods:G(G({},Object(w.b)("schedule",{moveViewItemToStatus:"moveViewItemToStatus",updateViewItemState:"updateViewItemState"})),{},{openBottomSheet:function(){this.bottomSheet=!0},closeBottomSheet:function(){this.bottomSheet=!1},onMoveToSkip:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmAction("Пропустить занятие?","Пропустить");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return t.skippingInProgress=!0,e.next=7,t.moveViewItemToStatus({item:t.viewItem,status:_.c.SKIP});case 7:t.skippingInProgress=!1,t.showSnackbar("Занятие пропущено"),t.closeBottomSheet();case 10:case"end":return e.stop()}}),e)})))()},onMoveToEvening:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmAction("Перенести занятие?","Перенести");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(t.eveningInProgress=!0,r=t.lastInDate(t.viewItem.date)){e.next=8;break}return e.abrupt("return");case 8:return n=r.position||1e3,o={position:n+10},e.next=12,t.updateViewItemState({item:t.viewItem,newState:o});case 12:t.eveningInProgress=!1,t.showSnackbar("Занятие перенесено"),t.closeBottomSheet();case 15:case"end":return e.stop()}}),e)})))()},onMoveToTomorrow:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmAction("Перенести занятие?","Перенести");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return t.tomorrowInProgress=!0,r=B()(t.viewItem.date).add(1,"day").format("YYYY-MM-DD"),n={date:r},e.next=9,t.updateViewItemState({item:t.viewItem,newState:n});case 9:t.tomorrowInProgress=!1,t.showSnackbar("Занятие перенесено"),t.closeBottomSheet();case 12:case"end":return e.stop()}}),e)})))()},confirmAction:function(title,t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$dialog.confirm({text:title,actions:{true:t,false:"Отмена"}});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}})},Y={name:"ScheduledItemCard",components:{ScheduleItemRePlanner:Object(y.a)(X,(function(){var t=this,e=t._self._c;return e(Q.a,{staticClass:"elevation-24",attrs:{app:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e(I.a,t._g({staticStyle:{position:"absolute",right:"0"},attrs:{icon:"",color:"pink",size:"normal"}},n),[e(U.a,[t._v("mdi-skip-next")])],1)]}}]),model:{value:t.bottomSheet,callback:function(e){t.bottomSheet=e},expression:"bottomSheet"}},[t._v(" "),e(J.a,[e(L.a,[e(F.a,[t._v("Перенос занятия")]),t._v(" "),e(A.a,{attrs:{disabled:t.anyLoading},on:{click:t.onMoveToEvening}},[e(W.a,[e(E.a,{attrs:{size:"32px",tile:""}},[t.eveningInProgress?e(z.a,{attrs:{indeterminate:"",color:"primary"}}):e(U.a,[t._v("mdi-weather-sunset")])],1)],1),t._v(" "),e(j.b,[t._v("На Вечер")])],1),t._v(" "),e(A.a,{attrs:{disabled:t.anyLoading},on:{click:t.onMoveToTomorrow}},[e(W.a,[e(E.a,{attrs:{size:"32px",tile:""}},[t.tomorrowInProgress?e(z.a,{attrs:{indeterminate:"",color:"primary"}}):e(U.a,[t._v("mdi-arrow-expand-right")])],1)],1),t._v(" "),e(j.b,[t._v("На Завтра")])],1),t._v(" "),e(A.a,{attrs:{disabled:t.anyLoading},on:{click:t.onMoveToSkip}},[e(W.a,[e(E.a,{attrs:{size:"32px",tile:""}},[t.skippingInProgress?e(z.a,{attrs:{indeterminate:"",color:"primary"}}):e(U.a,[t._v("mdi-debug-step-over")])],1)],1),t._v(" "),e(j.b,[t._v("Пропустить совсем")])],1)],1)],1)],1)}),[],!1,null,"5b2e9f57",null).exports},props:{item:{type:Object|_.d,required:!0},statistics:{type:Array,default:function(){return[]}},dense:{type:Boolean,default:!1},allowActions:{type:Boolean,default:!1},skippable:{type:Boolean,default:!1},title:{type:String,default:"Поехали! 🚀"},description:{type:String,default:""},elevation:{type:Number,default:24},completingInProgress:{type:Boolean,default:!1},skippingInProgress:{type:Boolean,default:!1}},data:function(){return{chipColors:["red","blue","green","yellow","purple"]}},computed:{course:function(){return{name:this.item.course,group:this.item.group,image:this.item.course_image,priority:this.item.priority}},group:function(){return{name:this.item.group,image:this.item.group_image}},cardImage:function(){var t=[];return t.push(R.a.get(this.course,"image")),t.push(R.a.get(this.group,"image")),t.push(N.b.courses.fallbackImage),t.find((function(i){return!!i}))},chipColor:function(){return this.chipColors[function(t,e){for(var r=0,i=0;i<t.length;i++)r=t.charCodeAt(i)+((r<<5)-r);return Math.abs(r)%e}(this.group.name,this.chipColors.length)]},durationText:function(){var t=this.item.lesson_duration;R.a.isString(t)&&(t=R.a.toNumber(t));var e=Math.floor(t),r=t%1,n=[];return 1===e&&n.push("1"),e&&n.push(B.a.duration(e,"hours").humanize()),r&&n.push(B.a.duration(r,"hours").humanize()),n.join(" ")},progressPercent:function(){if(!this.statistics||0===this.statistics.length)return 0;var t=R.a.find(this.statistics,{course:this.item.course});return t?t.progress:0},progressLabel:function(){if(-1===this.progressPercent)return"∞";var t=100*this.progressPercent;return"".concat(Math.round(t),"%")}},methods:{moveToComplete:function(){this.$emit("complete",this.item)}}},K=(r(631),Object(y.a)(Y,(function(){var t=this,e=t._self._c;return e(S.a,{attrs:{elevation:t.elevation}},[e(P.a,{attrs:{src:t.cardImage,height:t.dense?120:180}},[t.dense?t._e():e("div",{staticClass:"text-overlay",class:{dense:t.dense}},[e("h1",{staticClass:"text-white"},[t._v(t._s(t.item.course))])]),t._v(" "),t.group?e("div",{staticClass:"chip-overlay"},[e(C.a,{attrs:{color:t.chipColor,dark:"",small:""}},[t._v(t._s(t.group.name))])],1):t._e()]),t._v(" "),e(T.b,{staticClass:"pa-0",staticStyle:{"margin-top":"-18px"}},[e(S.a,{attrs:{elevation:t.elevation/4*4}},[e(T.c,{staticClass:"font-weight-light pb-0"},[e("span",[t._v(t._s(t.title))]),t._v(" "),t.skippable?e("schedule-item-re-planner",{attrs:{"view-item":t.item}}):t._e()],1),t._v(" "),e(T.b,{class:{"pb-2":!t.dense}},[t.dense?t._e():e(A.a,{staticClass:"pa-0",attrs:{"three-line":""}},[e(j.a,{class:{"pb-0":!t.dense}},[e("h4",{staticClass:"font-weight-light mb-2"},[t._v("ПРОДОЛЖИТЕЛЬНОСТЬ")]),t._v(" "),e("h3",{staticClass:"pl-2 mb-4"},[t._v(t._s(t.durationText))]),t._v(" "),t.description?e("h4",{staticClass:"font-weight-light mb-2"},[t._v("ДЕТАЛИ")]):t._e(),t._v(" "),t.description?e("h3",{staticClass:"pl-2 mb-4"},[t._v(t._s(t.description))]):t._e(),t._v(" "),e("h4",{staticClass:"font-weight-light"},[t._v("ПРИОРИТЕТ")]),t._v(" "),e(M.a,{staticClass:"scheduled-rating",attrs:{disabled:"",hover:"",length:"5",size:"15",value:t.course.priority/2}})],1),t._v(" "),t.progressPercent?e(z.a,{attrs:{value:t.progressPercent,rotate:360,size:75,width:15,color:t.chipColor}},[e("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.progressLabel))])]):t._e()],1)],1),t._v(" "),t.allowActions?e(T.a,[e(I.a,{attrs:{loading:t.completingInProgress,block:"",size:"normal",color:"primary"},on:{click:t.moveToComplete}},[t._v("Готово")])],1):t._e()],1)],1)],1)}),[],!1,null,"e9434e08",null).exports),Z=(r(221),r(419),{name:"TextPlaceholder",props:{title:{type:String,default:""},subtitle:{type:String,default:""},link:{type:String,default:null},linkText:{type:String,default:null},small:{type:Boolean,default:!1},injected:{type:Boolean,default:!1}}}),$=Object(y.a)(Z,(function(){var t=this,e=t._self._c;return e(o.a,{staticClass:"fill-height",attrs:{fluid:""}},[e(c.a,{attrs:{align:"center",justify:"center"}},[e("h3",{staticClass:"grey--text font-weight-light",class:{headline:!t.small,title:t.small},staticStyle:{"text-align":"center"}},[t._v("\n      "+t._s(t.title)+" "),t.title?e("br"):t._e(),t._v(" "),e("small",[t._v("\n        "+t._s(t.subtitle)+"\n      ")]),t._v(" "),t.link?e("br"):t._e(),t._v(" "),t.link&&!t.injected?e(I.a,{attrs:{to:t.link,color:"primary",text:""}},[t._v("\n        "+t._s(t.linkText?t.linkText:"Перейти")+"\n      ")]):t._e()],1)])],1)}),[],!1,null,null,null).exports;function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){Object(d.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var nt={components:{SnackbarAlert:r(151).a,TextPlaceholder:$,ScheduledItemCard:K,CardLoadingSkeleton:O},data:function(){return{triangleBg:h.a,trophy:v.a,loadingItems:!1,competingInProgress:!1,skippingInProgress:!1,snackbar:!1,snackbarText:""}},computed:et(et(et(et({},Object(w.d)("courses",{courses:"items",coursesGroups:"groups"})),Object(w.d)("schedule",{statistics:"statistics"})),Object(w.c)("schedule",{allItems:"allItems",todayItems:"today",tomorrowItems:"tomorrow",yesterdayItems:"yesterday",currentItem:"currentItem"})),{},{isTodayPresents:function(){return this.todayToWork&&this.todayToWork.length>0},todayToWork:function(){var t=this.currentItem?this.currentItem.id:null;return R.a.filter(this.todayItems,(function(e){return e.status===_.c.NEW&&(!t||e.id!==t)}))}}),mounted:function(){this.initializeData()},methods:et(et(et({},Object(w.b)("schedule",{fetchCurrentWeekItems:"fetchCurrentWeekItems",fetchNextWeekItems:"fetchNextWeekItems",fetchViewItems:"fetchViewItems",fetchStatistics:"fetchStatistics",moveViewItemToStatus:"moveViewItemToStatus"})),Object(w.b)("courses",{fetchCourses:"fetchItems",fetchCourseGroups:"fetchGroups"})),{},{initializeData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingItems=!0,t.fetchCourses(),t.fetchCourseGroups(),e.next=5,t.initializeItems();case 5:t.loadingItems=!1;case 6:case"end":return e.stop()}}),e)})))()},initializeItems:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchViewItems();case 2:t.fetchStatistics();case 3:case"end":return e.stop()}}),e)})))()},onMoveToComplete:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.competingInProgress=!0,r.next=3,e.moveViewItemToStatus({item:t,status:_.c.DONE});case 3:e.competingInProgress=!1,e.showSnackbar("Занятие завершено");case 5:case"end":return r.stop()}}),r)})))()}})},at=(r(633),Object(y.a)(nt,(function(){var t=this,e=t._self._c;return e(o.a,[e(c.a,[t.currentItem?e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Прямо сейчас")]),t._v(" "),e("scheduled-item-card",{attrs:{item:t.currentItem,statistics:t.statistics,description:t.currentItem.health_description,"completing-in-progress":t.competingInProgress,"skipping-in-progress":t.skippingInProgress,"allow-actions":"",skippable:""},on:{complete:t.onMoveToComplete}})],1):t._e(),t._v(" "),e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Сегодня")]),t._v(" "),t.isTodayPresents?t._l(t.todayToWork,(function(t){return e("scheduled-item-card",{key:t.id,staticClass:"mb-6",attrs:{item:t,title:t.course,elevation:8,skippable:"",dense:""}})})):t._e(),t._v(" "),t.isTodayPresents||t.loadingItems?t._e():e("text-placeholder",{attrs:{title:"Сегодня нет занятий",subtitle:"Пора отдыхать",small:""}}),t._v(" "),t.loadingItems?t._l(3,(function(i){return e("card-loading-skeleton",{key:i,staticClass:"elevation-24 mb-6"})})):t._e()],2),t._v(" "),t.tomorrowItems&&t.tomorrowItems.length>0?e(n.a,{staticClass:"mb-4",attrs:{cols:"12",md:"4"}},[e("h2",{staticClass:"font-weight-light mb-2"},[t._v("Завтра")]),t._v(" "),t._l(t.tomorrowItems,(function(t){return e("scheduled-item-card",{key:t.id,staticClass:"mb-6",attrs:{item:t,title:t.course,elevation:12,skippable:"",dense:""}})})),t._v(" "),t.loadingItems?e("card-loading-skeleton",{staticClass:"elevation-24"}):t._e()],2):t._e()],1)],1)}),[],!1,null,null,null));e.default=at.exports}}]);